# Order

## Status

> Example:

```php
<?php
  require 'vendor/autoload.php';
  
  \Cloudipsp\Configuration::setMerchantId(1396424);
  \Cloudipsp\Configuration::setSecretKey('test');
  $dataToGetStatus = [
                  'order_id' => '123'
              ];
  $s_order = \Cloudipsp\Order::status($dataToGetStatus);
  var_dump($s_order->getData());
```        
```(array)``` <span class="green">getData()</span> - Returns order info.

```(bool)``` <span class="green">isApproved()</span> - method to check if payment successful

Required request parameters:

parameters      | Description                                                                                      
----------------|-------------------------------------------------------------------------------------------------------
```order_id```        | Order ID which is generated by merchant.                                                            
```merchant_id```     | Merchant unique ID.                                                                
```signature```       | Order signature. Required to verify merchant request consistency and authenticity. Can be generated by SDK.

Host-to-host API supports the following text formats:

* form
* xml 
* json

Response is always returned in request context in the same content-type. So if request is sent in JSON, response will be sent in JSON format too.

## Transaction List

> Example:

```php
<?php
  require 'vendor/autoload.php';
  
  \Cloudipsp\Configuration::setMerchantId(1396424);
  \Cloudipsp\Configuration::setSecretKey('test');
   $dataToGetList = [
              'order_id' => '1234'
          ];
   $listData = \Cloudipsp\Order::transactionList($dataToGetList);
   var_dump($listData->getData());
```        
```(array)``` <span class="green">getData()</span> - Returns Transaction List data.

```(bool)``` <span class="green">isCapturedByList()</span> - method to check if is captured transaction in data

Required request parameters:

parameters      | Description                                                                                      
----------------|-------------------------------------------------------------------------------------------------------
```order_id```        | Order ID which is generated by merchant.                                                            
```merchant_id```     | Merchant unique ID.                                                                
```signature```       | Order signature. Required to verify merchant request consistency and authenticity. Can be generated by SDK.

Host-to-host API supports the following text formats:

* form
* xml 
* json

## Refund payment

> Example:

```php
<?php
  require 'vendor/autoload.php';
  
  \Cloudipsp\Configuration::setMerchantId(1396424);
  \Cloudipsp\Configuration::setSecretKey('test');
    $dataToReverse = [
               'currency' => 'USD',
               'amount' => 100,
               'order_id' => '1234'
           ];
    $refund_order = Cloudipsp\Order::reverse($dataToReverse);
    var_dump($refund_order->getData());
```        
```(array)``` <span class="green">getData()</span> - Returns refunded order info.

```(bool)``` <span class="green">isReversed()</span> - method to check if order is Reversed

Required request parameters:

parameters      | Description                                                                                      
----------------|-------------------------------------------------------------------------------------------------------
```order_id```        | Order ID which is generated by merchant.                                                            
```merchant_id```     | Merchant unique ID.                                                                
```signature```       | Order signature. Required to verify merchant request consistency and authenticity. Can be generated by SDK.
```currency```     | Order currency(USD,EUR,RUB and others).
```amount```	        | Order amount in cents without separator.

Host-to-host API supports the following text formats:

* form
* xml 
* json

## Capture order

> Example:

```php
<?php
  require 'vendor/autoload.php';
  
  \Cloudipsp\Configuration::setMerchantId(1396424);
  \Cloudipsp\Configuration::setSecretKey('test');
     $dataToCapture = [
                'currency' => 'USD',
                'amount' => 1000,
                'order_id' => '1234'
            ];
     $capture_order = \Cloudipsp\Order::capture($dataToCapture);
     var_dump($capture_order->getData());
```        
```(array)``` <span class="green">getData()</span> - Returns captured order info.

```(bool)``` <span class="green">isCaptured()</span> - method to check if capture request is true

Required request parameters:

parameters      | Description                                                                                      
----------------|-------------------------------------------------------------------------------------------------------
```order_id```        | Order ID which is generated by merchant.                                                            
```merchant_id```     | Merchant unique ID.                                                                
```signature```       | Order signature. Required to verify merchant request consistency and authenticity. Can be generated by SDK.
```currency```     | Order currency(USD,EUR,RUB and others).
```amount```	        | Order amount in cents without separator.

Host-to-host API supports the following text formats:

* form
* xml 
* json

## Get Atol logs

> Example:

```php
<?php
  require 'vendor/autoload.php';
  
  \Cloudipsp\Configuration::setMerchantId(1396424);
  \Cloudipsp\Configuration::setSecretKey('test');
     $data = [
                'order_id' => '1234'
            ];
     $logs = \Cloudipsp\Order::atolLogs($data);
     var_dump($logs->getData());
```        
```(array)``` <span class="green">getData()</span> - Returns atol logs array.

Required request parameters:

parameters      | Description                                                                                      
----------------|-------------------------------------------------------------------------------------------------------
```order_id```        | Order ID which is generated by merchant.                                                            
```merchant_id```     | Merchant unique ID.                                                                
```signature```       | Order signature. Required to verify merchant request consistency and authenticity. Can be generated by SDK.

Host-to-host API supports the following text formats:

* json
